<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
</head>
<body>
    <header>
        <h1>Welcome {{ username if username else 'Guest' }}</h1>
        {% if username %}
            <a href="{{ url_for('main.logout') }}">Logout</a>
        {% else %}
            <a href="{{ url_for('main.login') }}">Login</a> | 
            <a href="{{ url_for('main.register') }}">Register</a>
        {% endif %}
    </header>
    
    <main>
        <h2>Your Products</h2>
        {% if listings %}
            <ul>
                {% for listing in listings %}
                    <li>
                        <strong>{{ listing.name }}</strong><br>
                        {{ listing.description }}<br>
                        Status: {{ listing.status }}
                        {% if listing.picture %}
                            <img src="{{ listing.picture }}" alt="{{ listing.name }}" style="width:100px;height:auto;">
                        {% endif %}
                    </li>
                {% endfor %}
            </ul>
        {% else %}
            <p>No products available.</p>
        {% endif %}
        
        <h2>Notifications</h2>
        {% if notifications %}
            <ul>
                {% for notification in notifications %}
                    <li>{{ notification.type }} - {% if notification.viewed %}Viewed{% else %}Unviewed{% endif %}</li>
                {% endfor %}
            </ul>
        {% else %}
            <p>No notifications.</p>
        {% endif %}
        
        <a href="{{ url_for('main.add_product') }}">Add a New Product</a>
        <a href="{{ url_for('main.listings') }}">View All Listings</a>
    </main>
    
    <footer>
        <p>&copy; 2024 GardenLend</p>
    </footer>
</body>
</html>